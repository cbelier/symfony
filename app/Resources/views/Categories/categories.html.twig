{% extends 'layout.html.twig' %}
{% block stylesheets %}

    <link rel="stylesheet" href="{{ asset('plugins/datatables/dataTables.bootstrap.css') }}">
{% endblock %}

{% block classActive %}
    <li><a href="{{ asset('app_dev.php/admin') }}"><i class="fa fa-circle-o"></i>Page Admin</a></li>
    <li class="active"><a href="{{ asset('app_dev.php/admin/products') }}"><i class="fa fa-circle-o"></i>Page Produits </a></li>
    <li><a href="{{ asset('app_dev.php/contact') }}"><i class="fa fa-circle-o"></i>Aide TWIG </a></li>

{% endblock %}


{% block start %}

            <div class="box box-body">

              <table id="example1" class="table table-bordered table-striped">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Titre</th>
                    <th>Description</th>
                    <th>Date</th>
                    <th>Etat</th>
                    <th>Action</th>
                </tr>
                </thead>
                <tbody>
                {% for product in products %}
                  <tr>
                        <td> {{ product.id }}</td>
                        <td> {{ product.title|default('pas de titre')|upper }}</td>
                        <td> {{ product.description|raw|nl2br|slice(0, 30) }} ({{ product.description|striptags|length }} caractères)</td>
                        <td> {{ product.date_created|date("m/d/Y") }}</td>
                        <td> {% if(product.active) %}actif {% else %} non actif {% endif %}</td>
                      <td>
                        <a href="{{ path('show_cat', {id:product.id}) }}"><button class="btn btn-success ">Check</button></a>
                        <button class="btn btn-warning ">Edit</button>
                        <button class="btn btn-danger ">Delete</button>
                    </td>

                  </tr>

                {% endfor %}
                <h3>Nombre de catégories {{ products|length }}</h3>
                
                </tbody>

              </table>
            </div>

    {% endblock %}


{% block js %}

    {{ parent() }}

    <script src="{{ asset('plugins/datatables/jquery.dataTables.min.js') }}"></script>
    <script src="{{ asset('plugins/datatables/dataTables.bootstrap.min.js') }}"></script>
    <script>
        $(function () {
            $("#example1").DataTable();
        });
    </script>
{% endblock %}


